<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><title>JavaScript拖拽文件上传和本地图片预览 | 冰是睡着的水的博客</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="在图形界面的操作系统中，拖拽操作应该是一个比较常见的功能，例如，对于电脑小白来说最简单的删除文件的方式就是直接将文件拖到桌面上的垃圾桶图标，需要打开文件的时候也是直接把文件拖到相应的软件里。拖拽操作可以说是极大的降低了计算机的使用难度，哪怕是不懂计算机的老人或小孩都能很方便的操作。"><meta name="keywords" content="AJAX,JavaScript,HTML5,上传文件"><meta property="og:type" content="article"><meta property="og:title" content="JavaScript拖拽文件上传和本地图片预览"><meta property="og:url" content="http://yoursite.com/2019/03/09/JavaScript拖拽文件上传和本地图片预览/index.html"><meta property="og:site_name" content="冰是睡着的水的博客"><meta property="og:description" content="在图形界面的操作系统中，拖拽操作应该是一个比较常见的功能，例如，对于电脑小白来说最简单的删除文件的方式就是直接将文件拖到桌面上的垃圾桶图标，需要打开文件的时候也是直接把文件拖到相应的软件里。拖拽操作可以说是极大的降低了计算机的使用难度，哪怕是不懂计算机的老人或小孩都能很方便的操作。"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://www.changbin.me/img/拖拽文件截图.png"><meta property="og:image" content="https://www.changbin.me/img/img标签.png"><meta property="og:image" content="https://www.changbin.me/img/图片预览.gif"><meta property="og:updated_time" content="2019-03-12T04:25:52.307Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="JavaScript拖拽文件上传和本地图片预览"><meta name="twitter:description" content="在图形界面的操作系统中，拖拽操作应该是一个比较常见的功能，例如，对于电脑小白来说最简单的删除文件的方式就是直接将文件拖到桌面上的垃圾桶图标，需要打开文件的时候也是直接把文件拖到相应的软件里。拖拽操作可以说是极大的降低了计算机的使用难度，哪怕是不懂计算机的老人或小孩都能很方便的操作。"><meta name="twitter:image" content="https://www.changbin.me/img/拖拽文件截图.png"><link rel="alternate" href="/atom.xml" title="冰是睡着的水的博客" type="application/atom+xml"><link rel="icon" href="/favicon.png"><link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/style.css"></head></html><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">冰是睡着的水的博客</a></h1><h2 id="subtitle-wrap"><a href="/" id="subtitle">我的编程笔记和一些计算机的实用教程</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/">首页</a> <a class="main-nav-link" href="/archives">归档</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="搜索"></a></nav><div id="search-form-wrap"><form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-JavaScript拖拽文件上传和本地图片预览" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2019/03/09/JavaScript拖拽文件上传和本地图片预览/" class="article-date"><time datetime="2019-03-09T13:43:02.000Z" itemprop="datePublished">2019-03-09</time></a><div class="article-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a></div></div><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">JavaScript拖拽文件上传和本地图片预览</h1></header><div class="article-entry" itemprop="articleBody"><p>在图形界面的操作系统中，拖拽操作应该是一个比较常见的功能，例如，对于电脑小白来说最简单的删除文件的方式就是直接将文件拖到桌面上的垃圾桶图标，需要打开文件的时候也是直接把文件拖到相应的软件里。拖拽操作可以说是极大的降低了计算机的使用难度，哪怕是不懂计算机的老人或小孩都能很方便的操作。<br><a id="more"></a></p><h2 id="拖拽文件上传"><a href="#拖拽文件上传" class="headerlink" title="拖拽文件上传"></a>拖拽文件上传</h2><p>目前大多数的网络相册和网盘都支持直接拖拽文件上传，例如，百度网盘、Google云端硬盘、Google相册 等，都支持拖拽文件上传。不过要使用拖拽文件上传浏览器必须要能很好的支持HTML5，也就是说那些老IE都是用不了的。</p><p>这里先放一个 <code>div</code> 来接收文件：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>把文件拖到此处上传<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>给 <code>div</code> 加一些CSS方便查看：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#00e080</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://www.changbin.me/img/拖拽文件截图.png" alt="拖拽文件截图"></p><p>我这里只是为了方便演示，在实际的开发中接收文件的范围可以大一些，下面是JS：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);  <span class="comment">//  获取div</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  文件进入div</span></span><br><span class="line">Div.ondragenter = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  阻止浏览器默认事件</span></span><br><span class="line">    event.preventDefault();</span><br><span class="line">    event.stopPropagation();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  文件在div上，但是还未松开鼠标</span></span><br><span class="line">Div.ondragover = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  阻止浏览器默认事件</span></span><br><span class="line">    event.preventDefault();</span><br><span class="line">    event.stopPropagation();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  文件进入Div并且已经松开鼠标</span></span><br><span class="line">Div.ondrop = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  阻止浏览器默认事件</span></span><br><span class="line">    event.preventDefault();</span><br><span class="line">    event.stopPropagation();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  把文件传入files变量，有的浏览器需要通过event获取</span></span><br><span class="line">    <span class="keyword">var</span> files = <span class="keyword">this</span>.files || event.dataTransfer.files;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//  新建FormData对象</span></span><br><span class="line">    <span class="keyword">var</span> formData = <span class="keyword">new</span> FormData();</span><br><span class="line">    <span class="comment">//  封装一个formData</span></span><br><span class="line">    formData.append(<span class="string">'files'</span>, files[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 新建XMLHttpRequest对象</span></span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    <span class="comment">//  设置提交方式 url 是否异步</span></span><br><span class="line">    xhr.open(<span class="string">'post'</span>, <span class="string">'server.php'</span>, <span class="literal">true</span>);</span><br><span class="line">    <span class="comment">//  设置请求头</span></span><br><span class="line">    xhr.setRequestHeader(<span class="string">'X-Request-With'</span>, <span class="string">'XMLHttpRequest'</span>);</span><br><span class="line">    <span class="comment">//  提交数据，传入已封装的FormData</span></span><br><span class="line">    xhr.send(formData);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  此方法在成功提交并接收到数据的时候触发</span></span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//  验证一下是否全部接收完成</span></span><br><span class="line">        <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="comment">//  在控制台输出接收到的数据</span></span><br><span class="line">            <span class="built_in">console</span>.log(xhr.responseText);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这里因为有注释和空行，所以看起来内容很多，实际上很简单，下面是详细说明：</p><h3 id="dragenter-事件"><a href="#dragenter-事件" class="headerlink" title="dragenter  事件"></a>dragenter 事件</h3><p>被拖动的内容进入目标元素时触发，上面的文件如果拖入到div就会触发，在不放开鼠标的情况下也会触发，<code>event.preventDefault()</code> 主要是禁止浏览器的默认事件，有的浏览器文件拖入以后可能会直接读取文件，详细的 <code>preventDefault</code> 说明可以访问： <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event/preventDefault" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Event/preventDefault</a> 。<code>event.stopPropagation()</code> 主要是阻止冒泡，详细的可以看： <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopPropagation" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopPropagation</a> 。</p><h3 id="dragover-事件"><a href="#dragover-事件" class="headerlink" title="dragover  事件"></a>dragover 事件</h3><p>被拖动的内容在目标元素上时触发，而且是连续触发，上面 的文件拖入 <code>div</code> 内只要不离开就会连续触发。</p><h3 id="drop-事件"><a href="#drop-事件" class="headerlink" title="drop  事件"></a>drop 事件</h3><p>被拖动的内容进入目标元素并且已经放开鼠标时触发，上面的文件进入 <code>div</code> 放开鼠标后触发，如果文件移出 <code>div</code> 放开鼠标也不会触发。</p><h3 id="this-files-属性"><a href="#this-files-属性" class="headerlink" title="this.files  属性"></a>this.files 属性</h3><p>获取拖入的文件列表，一般用于<code>input</code>这一类的元素。</p><h3 id="event-dataTransfer-files-属性"><a href="#event-dataTransfer-files-属性" class="headerlink" title="event.dataTransfer.files  属性"></a>event.dataTransfer.files 属性</h3><p>获取拖入的文件列表，一般用于<code>div</code>这一类和文件无关的元素。</p><h3 id="event-originalEvent-dataTransfer-files-属性"><a href="#event-originalEvent-dataTransfer-files-属性" class="headerlink" title="event.originalEvent.dataTransfer.files  属性"></a>event.originalEvent.dataTransfer.files 属性</h3><p>一般用于jQuery获取文件列表，这里没有用到。</p><p>上面的两种方式都是获取拖入的文件列表，文件拖入后会返回一个包含文件列表的数组，数组的长度取决于文件数量。我上面上传的是第一个文件。文件列表中的文件又包含一些属性，下面是详细说明：</p><table><thead><tr><th>属性</th><th>类型</th><th>读/写</th><th>说明</th></tr></thead><tbody><tr><td>lastModified</td><td>Number</td><td>只读</td><td>文件最后修改时间，1970年1月1日到现在的时间戳。</td></tr><tr><td>lastModifiedDate</td><td>object</td><td>只读</td><td>文件的最后修改日期。</td></tr><tr><td>name</td><td>string</td><td>只读</td><td>文件名，不包含路径。</td></tr><tr><td>type</td><td>string</td><td>只读</td><td>文件类型，如 image/png 。</td></tr><tr><td>size</td><td>Number</td><td>只读</td><td>文件大小（字节）。</td></tr></tbody></table><p>以上面的 <strong>files</strong> 数组为例，我想获取第一个文件的大小，代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">files[<span class="number">0</span>].size</span><br></pre></td></tr></table></figure><p>到这里拖拽的部分就算是写完了，关于 <code>FormData</code> 和 <code>XMLHttpRequest</code> 可以看下面两篇文章：</p><ul><li><a href="https://www.changbin.me/index.php/2018/07/25/%e4%bd%bf%e7%94%a8ajax-formdata%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6/" target="_blank" rel="noopener">使用AJAX + FORMDATA上传文件</a></li><li><a href="https://www.changbin.me/index.php/2018/04/17/ajax%e7%ae%80%e5%8d%95%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b/" target="_blank" rel="noopener">AJAX简单使用教程</a></li></ul><p>这里获取的files文件对象和文件表单的files对象是一样的。</p><h2 id="预览本地图片"><a href="#预览本地图片" class="headerlink" title="预览本地图片"></a>预览本地图片</h2><p>在用户上传头像或各种图片背景时可以在正式上传之前就加载图片让用户预览，满意在上传，避免用户多次更换头像造成服务器带宽和空间的浪费。</p><p>这里用的是文件表单选择文件，用拖拽的方式也可以实现，主要还是需要files对象，下面是HTML：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">alt</span>=<span class="string">"图片"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>设置一下 <code>img</code> 的宽度和高度，方便演示：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">640px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">360px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f0f0f0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#0063b1</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://www.changbin.me/img/img标签.png" alt="img"></p><p>在实际开发中可以隐藏文件表单，用按钮调用文件表单来选择文件。</p><p>下面是JS代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Img = <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>);  <span class="comment">//  获取img</span></span><br><span class="line"><span class="keyword">var</span> fileInput = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>);  <span class="comment">//  获取文件表单</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  文件表单的内容改变，也就是选择完文件触发</span></span><br><span class="line">fileInput.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  如果未选择任何文件</span></span><br><span class="line">    <span class="keyword">if</span> (fileInput.value == <span class="string">''</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  创建FileReader对象</span></span><br><span class="line">    <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  读取文件</span></span><br><span class="line">    reader.readAsDataURL(fileInput.files[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  读取文件完成时触发</span></span><br><span class="line">    reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//  设置img的src</span></span><br><span class="line">        Img.src = event.target.result;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>最终效果如下：</p><p><img src="https://www.changbin.me/img/图片预览.gif" alt="图片预览"></p><p>下面是详细说明：</p><h3 id="change-事件"><a href="#change-事件" class="headerlink" title="change  事件"></a>change 事件</h3><p>在域的内容改变时触发，例如input的内容改变就会触发，选择完文件后文件表单的value会变为选择的文件的文件名，如果选择了多个文件也只会显示第一个文件的文件名。</p><h3 id="FileReader-对象"><a href="#FileReader-对象" class="headerlink" title="FileReader  对象"></a>FileReader 对象</h3><p><strong>FileReader</strong> 对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/File" target="_blank" rel="noopener"><code>File</code></a> 或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Blob" target="_blank" rel="noopener"><code>Blob</code></a> 对象指定要读取的文件或数据。</p><h3 id="readAsDataURL-方法"><a href="#readAsDataURL-方法" class="headerlink" title="readAsDataURL()  方法"></a>readAsDataURL() 方法</h3><p>readAsDataURL 方法会读取指定的 Blob 或 File 对象。读取操作完成的时候，readyState 会变成已完成DONE，并触发 loadend 事件，同时 result 属性将包含一个data:URL格式的字符串（base64编码）以表示所读取文件的内容。</p><h3 id="FileReader-onload-事件"><a href="#FileReader-onload-事件" class="headerlink" title="FileReader.onload  事件"></a>FileReader.onload 事件</h3><p>FileReader的onload事件会在文件读取完成时触发。</p><p>下面是 <code>FileReader</code> 的一些事件说明：</p><table><thead><tr><th>事件</th><th>说明</th></tr></thead><tbody><tr><td>FileReader.onabort</td><td>处理abort事件。该事件在读取操作被中断时触发。</td></tr><tr><td>FileReader.onerror</td><td>处理error事件。该事件在读取操作发生错误时触发。</td></tr><tr><td>FileReader.onload</td><td>处理load事件。该事件在读取操作完成时触发。</td></tr><tr><td>FileReader.onloadstart</td><td>处理loadstart事件。该事件在读取操作开始时触发。</td></tr><tr><td>FileReader.onloadend</td><td>处理loadend事件。该事件在读取操作结束时（要么成功，要么失败）触发。</td></tr><tr><td>FileReader.onprogress</td><td>处理progress事件。该事件在读取Blob时触发。</td></tr></tbody></table><h3 id="event-target-result-属性"><a href="#event-target-result-属性" class="headerlink" title="event.target.result  属性"></a>event.target.result 属性</h3><p>在 <code>readAsDataURL</code> 读取文件完成后会返回一个URL，把img的src设置为 <code>readAsDataURL</code> 返回的图片URL就能显示图片了。</p><p>以上就是JavaScript拖拽文件上传和预览本地图片的方法，无论是拖拽上传还是预览本地图片都需要浏览器支持HTML5。</p><p>相关参考文章：</p><ul><li><a href="https://www.changbin.me/index.php/2018/07/25/%e4%bd%bf%e7%94%a8ajax-formdata%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6/" target="_blank" rel="noopener">使用AJAX + FORMDATA上传文件</a></li><li><a href="https://www.changbin.me/index.php/2018/04/17/ajax%e7%ae%80%e5%8d%95%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b/" target="_blank" rel="noopener">AJAX简单使用教程</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader" target="_blank" rel="noopener">FileReader MDN文档</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/File" target="_blank" rel="noopener">File对象 MDN文档</a></li></ul><p><a href="https://www.changbin.me" target="_blank" rel="noopener">我的博客：www.changbin.me</a></p></div><footer class="article-footer"><a data-url="http://yoursite.com/2019/03/09/JavaScript拖拽文件上传和本地图片预览/" data-id="cju506qx7004q08ugidirfznj" class="article-share-link">Share</a><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AJAX/">AJAX</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/上传文件/">上传文件</a></li></ul></footer></div><nav id="article-nav"><a href="/2019/03/16/sessionStorage的简单使用/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">sessionStorage的简单使用</div></a><a href="/2019/03/07/简单给WordPress主题汉化/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">简单给WordPress主题汉化</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">分类</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux相关/">Linux相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/">前端开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用教程/">实用教程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签</h3><div class="widget"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AJAX/">AJAX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSON/">JSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VPS/">VPS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Win10/">Win10</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows-Server/">Windows Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WordPress/">WordPress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/上传文件/">上传文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/下载/">下载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/域名/">域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则表达式/">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/验证码/">验证码</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div class="widget tagcloud"><a href="/tags/AJAX/" style="font-size:14.29px">AJAX</a> <a href="/tags/HTML5/" style="font-size:15.71px">HTML5</a> <a href="/tags/JSON/" style="font-size:10px">JSON</a> <a href="/tags/JavaScript/" style="font-size:17.14px">JavaScript</a> <a href="/tags/Linux/" style="font-size:20px">Linux</a> <a href="/tags/Markdown/" style="font-size:11.43px">Markdown</a> <a href="/tags/Mysql/" style="font-size:12.86px">Mysql</a> <a href="/tags/PHP/" style="font-size:18.57px">PHP</a> <a href="/tags/VPS/" style="font-size:15.71px">VPS</a> <a href="/tags/Win10/" style="font-size:12.86px">Win10</a> <a href="/tags/Windows-Server/" style="font-size:10px">Windows Server</a> <a href="/tags/WordPress/" style="font-size:10px">WordPress</a> <a href="/tags/jQuery/" style="font-size:10px">jQuery</a> <a href="/tags/上传文件/" style="font-size:12.86px">上传文件</a> <a href="/tags/下载/" style="font-size:12.86px">下载</a> <a href="/tags/博客/" style="font-size:15.71px">博客</a> <a href="/tags/域名/" style="font-size:12.86px">域名</a> <a href="/tags/数据库/" style="font-size:11.43px">数据库</a> <a href="/tags/正则表达式/" style="font-size:10px">正则表达式</a> <a href="/tags/验证码/" style="font-size:11.43px">验证码</a></div></div><div class="widget-wrap"><h3 class="widget-title">归档</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">最新文章</h3><div class="widget"><ul><li><a href="/2019/04/06/解决VirtualBox安装Centos无法访问网络的问题/">解决VirtualBox安装Centos无法访问网络的问题</a></li><li><a href="/2019/04/04/PHP操作Cookie和Session/">PHP操作Cookie和Session</a></li><li><a href="/2019/03/20/Linux源码编译安装/">Linux源码编译安装</a></li><li><a href="/2019/03/16/sessionStorage的简单使用/">sessionStorage的简单使用</a></li><li><a href="/2019/03/09/JavaScript拖拽文件上传和本地图片预览/">JavaScript拖拽文件上传和本地图片预览</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2019 冰是睡着的水<br>Email <a href="javascript:;" target="_blank">email@changbin.me</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link">首页</a> <a href="/archives" class="mobile-nav-link">归档</a></nav><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/script.js"></script></div></body>