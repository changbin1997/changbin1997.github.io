<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
xmlns:atom="http://www.w3.org/2005/Atom"
xmlns:wfw="http://wellformedweb.org/CommentAPI/">
<channel>
<title>MWordStar - 2021年8月</title>
<link>http://localhost/php/typecho-demo/index.php/2021/08/</link>
<atom:link href="http://localhost/php/typecho-demo/index.php/feed/2021/08/" rel="self" type="application/rss+xml" />
<language>zh-CN</language>
<description>MWordStar演示站</description>
<lastBuildDate>Fri, 20 Aug 2021 08:13:00 +0000</lastBuildDate>
<pubDate>Fri, 20 Aug 2021 08:13:00 +0000</pubDate>
<item>
<title>PHP 使用 PHPMailer 发送邮件</title>
<link>http://localhost/php/typecho-demo/index.php/archives/13/</link>
<guid>http://localhost/php/typecho-demo/index.php/archives/13/</guid>
<pubDate>Fri, 20 Aug 2021 08:13:00 +0000</pubDate>
<dc:creator>Mr. Ma</dc:creator>
<description><![CDATA[最近准备写一个个人博客，博客的用户注册和找回密码都需要邮件验证。PHP 虽然提供了 mail 函数来发送邮件，但是 mail 函数的功能限制较多，只能发送普通文本，如果要发送 HTML 或附件就...]]></description>
<content:encoded xml:lang="zh-CN"><![CDATA[
<p>最近准备写一个个人博客，博客的用户注册和找回密码都需要邮件验证。PHP 虽然提供了 <code>mail</code> 函数来发送邮件，但是 <code>mail</code> 函数的功能限制较多，只能发送普通文本，如果要发送 HTML 或附件就比较麻烦。</p><p>在逛 Github 的时候看到一个功能比较强大的邮件发送类 <a href="https://github.com/PHPMailer/PHPMailer">PHPMailer</a> ，很多著名的 PHP 开源项目 比如  WordPress、Drupal、SugarCRM 也都在用 PHPMailer 发送邮件。</p><p>下面就简单写一下 PHPMailer 发送邮件的过程。</p><p>PHPMailer 的 Github 地址是 <a href="https://github.com/PHPMailer/PHPMailer">https://github.com/PHPMailer/PHPMailer</a> 。</p><p>可以使用 Composer 安装，也可以手动下载项目引入，我这里是手动下载项目引入。</p><h2>发送邮件</h2><p>发送邮件相关的代码都在 <code>src</code> 目录中，<code>language</code> 目录中包含了不同语言的报错信息。</p><p>下面使用 SMTP 发送邮件：</p><pre><code class="lang-php">&lt;?php

use PHPMailer\PHPMailer\PHPMailer;  //  设置命名空间
use PHPMailer\PHPMailer\SMTP;  //  设置命名空间
use PHPMailer\PHPMailer\Exception;  //  设置命名空间
require 'src/Exception.php';
require 'src/PHPMailer.php';
require 'src/SMTP.php';

$mail = new PHPMailer(true);  //  创建邮件发送对象

try {
    //  服务器相关设置
    $mail-&gt;SMTPDebug = SMTP::DEBUG_SERVER;  //  输出服务器日志
    $mail-&gt;isSMTP();  //  使用 SMTP 来发送邮件
    $mail-&gt;SMTPAuth = true;  //  启用 SMTP 身份验证
    $mail-&gt;Host = 'smtp.qq.com';  //  SMTP 服务器地址
    $mail-&gt;Username = 'email@misterma.com';  //  SMTP 用户名
    $mail-&gt;Password = 'wvikg5hyswveche';  //  密码
    $mail-&gt;SMTPSecure = PHPMailer::ENCRYPTION_STARTTLS;  //  使用 TLS 加密
    $mail-&gt;Port = '25';  //  SMTP 端口

    //  发件人和收件人
    $mail-&gt;setFrom('email@misterma.com', 'Mr. Ma');  //  发件人
    $mail-&gt;addAddress('usmmiuy@gmail.com', 'Joe User');  //  添加收件人

    // 邮件标题和内容
    $mail-&gt;isHTML(true);  //  邮件格式设置为 HTML
    $mail-&gt;Subject = '这是邮件标题';  //  邮件标题
    $mail-&gt;Body = '这是 HTML 内容 &lt;b&gt;加粗的文字&lt;/b&gt;';  //  HTML 内容
    $mail-&gt;AltBody = '文本内容';  //  纯文本
    $mail-&gt;addAttachment('tutorial.txt');  //  添加附件

    $mail-&gt;send();  //  发送
    echo '发送完成';
} catch (Exception $e) {
    //  输出错误信息
    echo '错误:' . $mail-&gt;ErrorInfo;
}</code></pre><p>我上面使用的是 QQ邮箱的 SMTP 服务。</p><h2>一些属性和方法说明</h2><p>下面是服务器相关的一些属性说明：</p><ul><li><code>$mail-&gt;Host</code>：设置 SMTP 服务器地址，不同邮箱服务的 SMTP 地址也会不一样，下面会有常用的邮箱服务的 SMTP 地址。</li><li><code>$mail-&gt;Username</code>：SMPT 用户名，一般也就是发送邮件的邮箱地址。</li><li><code>$mail-&gt;Password</code>：SMTP 的用户密码，有的邮箱服务可以直接使用邮箱密码，有的邮箱在开启 SMTP 后会生成一个独立的授权码。</li><li><code>$mail-&gt;Port</code>：SMTP 服务器端口，不同邮箱服务的端口也会不一样，下面会写常用的邮箱的 SMTP 端口。</li></ul><p>下面是发件人和收件人相关的一些方法说明：</p><ul><li><code>$mail-&gt;setFrom()</code>：发件人，第一个参数是发件人邮箱地址，第二个参数是发件人姓名。</li><li><code>$mail-&gt;addAddress()</code>：添加收件人，第一个参数是收件人的邮箱地址，第二个参数是收件人的姓名，收件人可添加多个。</li></ul><p>下面是邮件标题和邮件内容相关的一些方法说明：</p><ul><li><code>$mail-&gt;isHTML()</code>：使用 HTML 格式。</li><li><code>$mail-&gt;Subject</code>：邮件的标题或主题。</li><li><code>$mail-&gt;Body</code>：邮件内容。</li><li><code>$mail-&gt;AltBody</code>：邮件内容（纯文本）。</li><li><code>$mail-&gt;addAttachment</code>：添加附件，参数就是文件名，附件可以添加多个。</li></ul><h2>常用邮件服务的 SMTP 地址和端口</h2><p>下面是一些常用的邮箱服务的 SMTP 地址和端口：</p><table><thead><tr><th>服务商</th><th>SMTP 地址</th><th>SMTP 端口</th></tr></thead><tbody><tr><td>QQ邮箱</td><td>smtp.qq.com</td><td>25</td></tr><tr><td>网易126邮箱</td><td>smtp.126.com</td><td>25</td></tr><tr><td>网易163邮箱</td><td>smtp.163.com</td><td>25</td></tr><tr><td>新浪邮箱</td><td>smtp.sina.cn</td><td>25</td></tr><tr><td>Gmail</td><td>smtp.gmail.com</td><td>465</td></tr><tr><td>雅虎邮箱</td><td>smtp.mail.yahoo.com</td><td>465</td></tr></tbody></table><p>Foxmail邮箱 可以直接使用 QQ邮箱 的 SMTP 地址和端口。</p><p>以上就是 PHPMailer 发送邮件的简单演示，PHPMailer 还有很多选项可以设置。如果要查看更多的设置选项可以访问官方的 <a href="http://phpmailer.github.io/PHPMailer/">API 文档</a> 。</p>
]]></content:encoded>
<slash:comments>0</slash:comments>
<comments>http://localhost/php/typecho-demo/index.php/archives/13/#comments</comments>
<wfw:commentRss>http://localhost/php/typecho-demo/index.php/feed/archives/13/</wfw:commentRss>
</item>
<item>
<title>Linux 搭建 Minecraft 基岩版服务器</title>
<link>http://localhost/php/typecho-demo/index.php/archives/10/</link>
<guid>http://localhost/php/typecho-demo/index.php/archives/10/</guid>
<pubDate>Thu, 19 Aug 2021 08:09:00 +0000</pubDate>
<dc:creator>Mr. Ma</dc:creator>
<description><![CDATA[Minecraft Bedrock Edition 也就是我的世界基岩版，这是 Minecraft 的另一个版本。Minecraft 基岩版可以运行在 Win10、Android、iOS、XBo...]]></description>
<content:encoded xml:lang="zh-CN"><![CDATA[
<p>Minecraft Bedrock Edition 也就是我的世界基岩版，这是 Minecraft 的另一个版本。Minecraft 基岩版可以运行在 Win10、Android、iOS、XBox。基岩版不能使用 Java 版的服务器，Java 版也不能使用基岩版的服务器，不过 Win10、Android、iOS、XBox 的基岩版都可以使用同一个服务器，也就是说基岩版的服务器可以让 Win10 和手机一起联机。</p><p>目前基岩版的服务器还是测试版，因为不是用 Java 编写的，所以目前只能在 Windows 和 Ubuntu 上搭建。</p><p>我使用的是阿里云的轻量应用服务器，配置是 1 核 2 G，使用的系统是 Ubuntu 18.04。</p><h2>下载</h2><p>可以进入 <a href="https://www.minecraft.net/en-us/download/server/bedrock/">https://www.minecraft.net/en-us/download/server/bedrock/</a> 下载服务器，目前只有 Windows 和 Ubuntu 两个版本。</p><p><img src="https://www.misterma.com/img-admin/uploads/16043773761056.jpg" alt="基岩版服务器下载" title="基岩版服务器下载"></p><p>下载之前需要选中 <code>I agree to the Minecraft End User License Agreement and Privacy Policy</code>。你可以下载到本地电脑，然后通过 SFTP 上传到服务器，也可以右击 <code>DOWNLOAD</code> 复制链接地址，直接通过 wget 下载到服务器。</p><p>一般情况下官网默认就是最新版本的服务端，我下载的服务端版本是 1.14.32.1，客户端版本是 14.30，在游戏主界面的右下方可以查看版本。如果客户端版本比服务端版本低的话可以更新到最新版本，Win 10 可以在应用商店更新。</p><p>下载的压缩包中还会包含一个 <code>bedrock_server_how_to.html</code>，这就是服务器的帮助文档，建议可以下载一份服务端到本地电脑，方便查看帮助文档。</p><h2>运行</h2><p>下载的服务端可能是一个 zip 格式的压缩包，先解压：</p><pre><code class="lang-bash">unzip bedrock-server-1.14.32.1.zip</code></pre><p>上面的命令是把文件解压到当前目录，其中的 <code>bedrock-server-1.14.32.1.zip</code> 就是压缩包的名称。</p><p>如果解压的时候出现：</p><blockquote><p>Command 'unzip' not found</p></blockquote><p>可以输入：</p><pre><code class="lang-bash">apt install -y zip</code></pre><p>安装 zip。</p><p>基岩版的服务端还需要依赖 libcurl4-openssl-dev，安装 libcurl4-openssl-dev：</p><pre><code class="lang-bash">apt install -y libcurl4-openssl-dev</code></pre><p>安装完成后输入：</p><pre><code class="lang-bash">LD_LIBRARY_PATH=. ./bedrock_server</code></pre><p>启动服务器。</p><p>启动后会输出状态信息，如下：</p><pre><code class="lang-bash">NO LOG FILE! - setting up server logging...
[2020-04-02 20:50:22 INFO] Starting Server
[2020-04-02 20:50:22 INFO] Version 1.14.32.1
[2020-04-02 20:50:22 INFO] Session ID 08940d5f-f2da-4da8-9130-c7e59f580559
[2020-04-02 20:50:22 INFO] Level Name: Bedrock level
[2020-04-02 20:50:22 INFO] Game mode: 1 Creative
[2020-04-02 20:50:22 INFO] Difficulty: 0 PEACEFUL
[2020-04-02 20:50:22 INFO] opening worlds/Bedrock level/db
[2020-04-02 20:50:25 INFO] IPv4 supported, port: 4999
[2020-04-02 20:50:25 INFO] IPv6 not supported
[2020-04-02 20:50:25 INFO] IPv4 supported, port: 19132
[2020-04-02 20:50:25 INFO] IPv6 not supported
[2020-04-02 20:50:27 INFO] Server started.</code></pre><p>服务器默认的端口是 <code>19132</code>，协议是 <strong>UDP</strong> ，<strong>不是 TCP</strong>，开放端口的时候需要注意一下。</p><h2>客户端连接</h2><p>打开 Minecraft 基岩版，选择 <code>游戏</code>，选择 <code>服务器</code>，点击 <code>添加</code>，按照提示输入服务器 IP 和端口号。</p><p>如下：</p><p><img src="https://www.misterma.com/img-admin/uploads/16043774109342.jpg" alt="基岩版添加服务器" title="基岩版添加服务器"></p><p>如果没有修改过配置文件的话，默认的端口号是 <code>19132</code>。</p><p>进入服务器之前需要登录 Xbox Live，只有账户中有 Minecraft 才能联机。</p><h2>配置</h2><p>服务端解压后会包含一个名为 <code>server.properties</code> 的配置文件，服务器相关的配置就在这个配置文件中。</p><p>可以用 VI 之类的编辑器打开配置文件编辑，关于 VI 编辑器的使用可以看 <a href="https://www.misterma.com/archives/125/">Linux VI 编辑器简单使用教程</a> 。</p><p>配置文件中的 <code>#</code> 开头的行是注释，可以不用管，主要就是修改 <code>=</code> 后面的内容。</p><p>下面是一些配置项说明：</p><ul><li><code>gamemode</code>：默认的游戏模式，<code>survival</code> 生存，<code>creative</code> 创造，<code>adventure</code> 冒险。</li><li><code>difficulty</code>：默认难度，<code>peaceful</code> 和平，<code>easy</code> 简单，<code>normal</code> 普通，<code>hard</code> 困难。</li><li><code>max-players</code>：玩家数量限制，默认为 <code>10</code>。</li><li><code>server-port</code>：服务器端口，默认为 <code>19132</code>。</li><li><code>server-portv6</code>：IPv6 端口，默认为 <code>19133</code>。</li><li><code>online-mode</code>：正版验证，如果你的服务器可以正常连接到 Xbox Live 的话，可以设置为 <code>true</code>，否则可以设置为 <code>false</code>，即便不开启正版验证，客户端也需要登录 Xbox Live 才能联机。</li><li><code>white-list</code>：白名单，只有在白名单中的玩家才能进入服务器，默认为 <code>false</code>。</li><li><code>allow-cheats</code>：允许作弊，默认为 <code>false</code>。</li><li><code>player-idle-timeout</code>：自动踢出挂机玩家，默认为 30 分钟。</li><li><code>default-player-permission-level</code>：默认玩家等级，<code>visitor</code> 游客，<code>member</code> 普通玩家，<code>operator</code> 管理员。</li></ul><p>更详细的配置说明可以查看帮助文档。</p><h2>白名单配置</h2><p>服务端解压后会包含一个 <code>whitelist.json</code> 文件，这就是储存白名单的文件，格式如下：</p><pre><code class="lang-json">[
    {
        &quot;name&quot;: &quot;name1&quot;,
        &quot;ignoresPlayerLimit&quot;: &quot;true&quot;
    },
    {
        &quot;name&quot;: &quot;name2&quot;
    }
]</code></pre><p>其中的 <code>name</code> 是玩家的 Xbox 用户名，<code>ignoresPlayerLimit</code> 是忽略服务器人数限制，<code>ignoresPlayerLimit</code> 是可省略的。</p><p>只有 <code>server.properties</code> 配置文件中的 <code>white-list</code> 为 <code>true</code>，<code>whitelist.json</code> 中的白名单才会生效。</p><p>如果在服务器正在运行的时候修改了白名单的话，需要在服务器命令行中输入：</p><pre><code class="lang-bash">whitelist.jsonwhitelist reload</code></pre><p>重新加载白名单才会生效。</p><p>设置了白名单后就只有 <code>whitelist.json</code> 中的玩家才能进入服务器。</p><h2>后台运行</h2><p>如果直接使用 <code>LD_LIBRARY_PATH=. ./bedrock_server</code> 启动服务器的话，退出 SSH 终端后，服务端也会停止运行。</p><p>这里可以使用 <code>nohub</code> 命令来启动服务端：</p><pre><code class="lang-bash">nohub LD_LIBRARY_PATH=. ./bedrock_server &amp;</code></pre><p>以上就是搭建 Minecraft 基岩版服务器的过程，更详细的服务器配置和命令可以查看帮助文档。</p><p>相关文章：</p><ul><li><a href="https://www.misterma.com/archives/864/">Linux 搭建 Minecraft Java 服务器</a></li><li><a href="https://www.misterma.com/archives/125/">Linux VI 编辑器简单使用教程</a></li></ul>
]]></content:encoded>
<slash:comments>0</slash:comments>
<comments>http://localhost/php/typecho-demo/index.php/archives/10/#comments</comments>
<wfw:commentRss>http://localhost/php/typecho-demo/index.php/feed/archives/10/</wfw:commentRss>
</item>
<item>
<title>少年闰土</title>
<link>http://localhost/php/typecho-demo/index.php/archives/7/</link>
<guid>http://localhost/php/typecho-demo/index.php/archives/7/</guid>
<pubDate>Thu, 05 Aug 2021 07:42:00 +0000</pubDate>
<dc:creator>Mr. Ma</dc:creator>
<description><![CDATA[深蓝的天空中挂着一轮金黄的圆月，下面是海边的沙地，都种着一望无际的碧绿的西瓜。其间有一个十一二岁的少年，项带银圈，手捏一柄钢叉，向一匹猹②用力地刺去。那猹却将身一扭，反从他的胯下逃走了。　　这少...]]></description>
<content:encoded xml:lang="zh-CN"><![CDATA[
<p>深蓝的天空中挂着一轮金黄的圆月，下面是海边的沙地，都种着一望无际的碧绿的西瓜。其间有一个十一二岁的少年，项带银圈，手捏一柄钢叉，向一匹猹②用力地刺去。那猹却将身一扭，反从他的胯下逃走了。<br>　　<br>这少年便是闰土。我认识他时，也不过十多岁，离现在将有三十年了；那时我的父亲还在世，家景也好，我正是一个少爷。那一年，我家是一件大祭祀的值年。这祭祀，说是三十多年才能轮到一回，所以很郑重；正月里供祖像，供品很多，祭器很讲究，拜的人也很多，祭器也很要防偷去。我家只有一个忙月（我们这里给人做工的分三种：整年给一定人家做工的叫长年；按日给人做工的叫短工；自己也种地，只在过年过节以及收租时候来给一定的人家做工的称忙月），忙不过来，他便对父亲说，可以叫他的儿子闰土来管祭器的。<br>　　<br>我的父亲允许了；我也很高兴，因为我早听到闰土这名字，而且知道他和我仿佛年纪，闰月生的，五行缺土，所以他的父亲叫他闰土。他是能装弶捉小鸟雀的。<br>　　<br>我于是日日盼望新年，新年到，闰土也就到了。好容易到了年末，有一日，母亲告诉我，闰土来了，我便飞跑地去看。他正在厨房里，紫色的圆脸，头戴一顶小毡帽，颈上套一个明晃晃的银项圈，这可见他的父亲十分爱他，怕他死去，所以在神佛面前许下愿心，用圈子将他套住了。他见人很怕羞，只是不怕我，没有旁人的时候，便和我说话，于是不到半日，我们便熟识了。<br>　　<br>我们那时候不知道谈些什么，只记得闰土很高兴，说是上城之后，见了许多没有见过的东西。<br>　　<br>第二日，我便要他捕鸟。他说：“这不能。须大雪下了才好。我们沙地上，下了雪，我扫出一块空地来，用短棒支起一个大竹匾，撒下秕谷，看鸟雀来吃时，我远远地将缚在棒上的绳子只一拉，那鸟雀就罩在竹匾下了。什么都有：稻鸡，角鸡，鹁鸪，蓝背……”<br>　　<br>我于是又很盼望下雪。<br>　　<br>闰土又对我说：“现在太冷，你夏天到我们这里来。我们日里到海边捡贝壳去，红的绿的都有，鬼见怕也有，观音手也有。晚上我和爹管四瓜去，你也去。”<br>　　<br>“管贼吗？”<br>　　<br>“不是。走路的人口渴了摘一个瓜吃，我们这里是不算偷的。要管的是獾猪，刺猬，猹。月亮地下，你听，啦啦地响了，猹在咬瓜了。你便捏了胡叉，轻轻地走去……”<br>　　<br>我那时并不知道这所谓猹的是怎么一件东西——便是现在也没有知道——只是无端地觉得状如小狗而很凶猛。<br>　　<br>“它不咬人吗？”<br>　　<br>“有胡叉呢。走到了，看见猹了，你便刺。这畜生很伶俐，倒向你奔来，反从胯下窜了。它的皮毛是油一般的滑……<br>　　<br>我素不知道天下有这许多新鲜事：海边有如许五色的贝壳；西瓜有这样危险的经历，我先前单知道它在水果店里出卖罢了。<br>　　<br>“我们沙地里，潮汛要来的时候，就有许多跳鱼儿只是跳，都有青蛙似的两只脚……”<br>　　<br>啊！闰土的心里有无穷无尽的希奇的事，都是我往常的朋友所不知道的。他们不知道一些事，闰土在海边时．他们都和我一样只看见院子里高墙上的四角的天空。<br>　　<br>可惜正月过去了，闰土须回家里去。我急得大哭，他也躲到厨房里，哭着不肯出门，但终于被他父亲带走了。他后来还托他的父亲带给我一包贝壳和几支很好看的鸟毛，我也曾送他一两次东西，但从此没有再见面。</p>
]]></content:encoded>
<slash:comments>0</slash:comments>
<comments>http://localhost/php/typecho-demo/index.php/archives/7/#comments</comments>
<wfw:commentRss>http://localhost/php/typecho-demo/index.php/feed/archives/7/</wfw:commentRss>
</item>
</channel>
</rss>