<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
xmlns:atom="http://www.w3.org/2005/Atom"
xmlns:wfw="http://wellformedweb.org/CommentAPI/">
<channel>
<title>MWordStar - Minecraft</title>
<link>http://localhost/php/typecho-demo/index.php/tag/minecraft/</link>
<atom:link href="http://localhost/php/typecho-demo/index.php/feed/tag/minecraft/" rel="self" type="application/rss+xml" />
<language>zh-CN</language>
<description></description>
<lastBuildDate>Thu, 19 Aug 2021 08:09:00 +0000</lastBuildDate>
<pubDate>Thu, 19 Aug 2021 08:09:00 +0000</pubDate>
<item>
<title>Linux 搭建 Minecraft 基岩版服务器</title>
<link>http://localhost/php/typecho-demo/index.php/archives/10/</link>
<guid>http://localhost/php/typecho-demo/index.php/archives/10/</guid>
<pubDate>Thu, 19 Aug 2021 08:09:00 +0000</pubDate>
<dc:creator>Mr. Ma</dc:creator>
<description><![CDATA[Minecraft Bedrock Edition 也就是我的世界基岩版，这是 Minecraft 的另一个版本。Minecraft 基岩版可以运行在 Win10、Android、iOS、XBo...]]></description>
<content:encoded xml:lang="zh-CN"><![CDATA[
<p>Minecraft Bedrock Edition 也就是我的世界基岩版，这是 Minecraft 的另一个版本。Minecraft 基岩版可以运行在 Win10、Android、iOS、XBox。基岩版不能使用 Java 版的服务器，Java 版也不能使用基岩版的服务器，不过 Win10、Android、iOS、XBox 的基岩版都可以使用同一个服务器，也就是说基岩版的服务器可以让 Win10 和手机一起联机。</p><p>目前基岩版的服务器还是测试版，因为不是用 Java 编写的，所以目前只能在 Windows 和 Ubuntu 上搭建。</p><p>我使用的是阿里云的轻量应用服务器，配置是 1 核 2 G，使用的系统是 Ubuntu 18.04。</p><h2>下载</h2><p>可以进入 <a href="https://www.minecraft.net/en-us/download/server/bedrock/">https://www.minecraft.net/en-us/download/server/bedrock/</a> 下载服务器，目前只有 Windows 和 Ubuntu 两个版本。</p><p><img src="https://www.misterma.com/img-admin/uploads/16043773761056.jpg" alt="基岩版服务器下载" title="基岩版服务器下载"></p><p>下载之前需要选中 <code>I agree to the Minecraft End User License Agreement and Privacy Policy</code>。你可以下载到本地电脑，然后通过 SFTP 上传到服务器，也可以右击 <code>DOWNLOAD</code> 复制链接地址，直接通过 wget 下载到服务器。</p><p>一般情况下官网默认就是最新版本的服务端，我下载的服务端版本是 1.14.32.1，客户端版本是 14.30，在游戏主界面的右下方可以查看版本。如果客户端版本比服务端版本低的话可以更新到最新版本，Win 10 可以在应用商店更新。</p><p>下载的压缩包中还会包含一个 <code>bedrock_server_how_to.html</code>，这就是服务器的帮助文档，建议可以下载一份服务端到本地电脑，方便查看帮助文档。</p><h2>运行</h2><p>下载的服务端可能是一个 zip 格式的压缩包，先解压：</p><pre><code class="lang-bash">unzip bedrock-server-1.14.32.1.zip</code></pre><p>上面的命令是把文件解压到当前目录，其中的 <code>bedrock-server-1.14.32.1.zip</code> 就是压缩包的名称。</p><p>如果解压的时候出现：</p><blockquote><p>Command 'unzip' not found</p></blockquote><p>可以输入：</p><pre><code class="lang-bash">apt install -y zip</code></pre><p>安装 zip。</p><p>基岩版的服务端还需要依赖 libcurl4-openssl-dev，安装 libcurl4-openssl-dev：</p><pre><code class="lang-bash">apt install -y libcurl4-openssl-dev</code></pre><p>安装完成后输入：</p><pre><code class="lang-bash">LD_LIBRARY_PATH=. ./bedrock_server</code></pre><p>启动服务器。</p><p>启动后会输出状态信息，如下：</p><pre><code class="lang-bash">NO LOG FILE! - setting up server logging...
[2020-04-02 20:50:22 INFO] Starting Server
[2020-04-02 20:50:22 INFO] Version 1.14.32.1
[2020-04-02 20:50:22 INFO] Session ID 08940d5f-f2da-4da8-9130-c7e59f580559
[2020-04-02 20:50:22 INFO] Level Name: Bedrock level
[2020-04-02 20:50:22 INFO] Game mode: 1 Creative
[2020-04-02 20:50:22 INFO] Difficulty: 0 PEACEFUL
[2020-04-02 20:50:22 INFO] opening worlds/Bedrock level/db
[2020-04-02 20:50:25 INFO] IPv4 supported, port: 4999
[2020-04-02 20:50:25 INFO] IPv6 not supported
[2020-04-02 20:50:25 INFO] IPv4 supported, port: 19132
[2020-04-02 20:50:25 INFO] IPv6 not supported
[2020-04-02 20:50:27 INFO] Server started.</code></pre><p>服务器默认的端口是 <code>19132</code>，协议是 <strong>UDP</strong> ，<strong>不是 TCP</strong>，开放端口的时候需要注意一下。</p><h2>客户端连接</h2><p>打开 Minecraft 基岩版，选择 <code>游戏</code>，选择 <code>服务器</code>，点击 <code>添加</code>，按照提示输入服务器 IP 和端口号。</p><p>如下：</p><p><img src="https://www.misterma.com/img-admin/uploads/16043774109342.jpg" alt="基岩版添加服务器" title="基岩版添加服务器"></p><p>如果没有修改过配置文件的话，默认的端口号是 <code>19132</code>。</p><p>进入服务器之前需要登录 Xbox Live，只有账户中有 Minecraft 才能联机。</p><h2>配置</h2><p>服务端解压后会包含一个名为 <code>server.properties</code> 的配置文件，服务器相关的配置就在这个配置文件中。</p><p>可以用 VI 之类的编辑器打开配置文件编辑，关于 VI 编辑器的使用可以看 <a href="https://www.misterma.com/archives/125/">Linux VI 编辑器简单使用教程</a> 。</p><p>配置文件中的 <code>#</code> 开头的行是注释，可以不用管，主要就是修改 <code>=</code> 后面的内容。</p><p>下面是一些配置项说明：</p><ul><li><code>gamemode</code>：默认的游戏模式，<code>survival</code> 生存，<code>creative</code> 创造，<code>adventure</code> 冒险。</li><li><code>difficulty</code>：默认难度，<code>peaceful</code> 和平，<code>easy</code> 简单，<code>normal</code> 普通，<code>hard</code> 困难。</li><li><code>max-players</code>：玩家数量限制，默认为 <code>10</code>。</li><li><code>server-port</code>：服务器端口，默认为 <code>19132</code>。</li><li><code>server-portv6</code>：IPv6 端口，默认为 <code>19133</code>。</li><li><code>online-mode</code>：正版验证，如果你的服务器可以正常连接到 Xbox Live 的话，可以设置为 <code>true</code>，否则可以设置为 <code>false</code>，即便不开启正版验证，客户端也需要登录 Xbox Live 才能联机。</li><li><code>white-list</code>：白名单，只有在白名单中的玩家才能进入服务器，默认为 <code>false</code>。</li><li><code>allow-cheats</code>：允许作弊，默认为 <code>false</code>。</li><li><code>player-idle-timeout</code>：自动踢出挂机玩家，默认为 30 分钟。</li><li><code>default-player-permission-level</code>：默认玩家等级，<code>visitor</code> 游客，<code>member</code> 普通玩家，<code>operator</code> 管理员。</li></ul><p>更详细的配置说明可以查看帮助文档。</p><h2>白名单配置</h2><p>服务端解压后会包含一个 <code>whitelist.json</code> 文件，这就是储存白名单的文件，格式如下：</p><pre><code class="lang-json">[
    {
        &quot;name&quot;: &quot;name1&quot;,
        &quot;ignoresPlayerLimit&quot;: &quot;true&quot;
    },
    {
        &quot;name&quot;: &quot;name2&quot;
    }
]</code></pre><p>其中的 <code>name</code> 是玩家的 Xbox 用户名，<code>ignoresPlayerLimit</code> 是忽略服务器人数限制，<code>ignoresPlayerLimit</code> 是可省略的。</p><p>只有 <code>server.properties</code> 配置文件中的 <code>white-list</code> 为 <code>true</code>，<code>whitelist.json</code> 中的白名单才会生效。</p><p>如果在服务器正在运行的时候修改了白名单的话，需要在服务器命令行中输入：</p><pre><code class="lang-bash">whitelist.jsonwhitelist reload</code></pre><p>重新加载白名单才会生效。</p><p>设置了白名单后就只有 <code>whitelist.json</code> 中的玩家才能进入服务器。</p><h2>后台运行</h2><p>如果直接使用 <code>LD_LIBRARY_PATH=. ./bedrock_server</code> 启动服务器的话，退出 SSH 终端后，服务端也会停止运行。</p><p>这里可以使用 <code>nohub</code> 命令来启动服务端：</p><pre><code class="lang-bash">nohub LD_LIBRARY_PATH=. ./bedrock_server &amp;</code></pre><p>以上就是搭建 Minecraft 基岩版服务器的过程，更详细的服务器配置和命令可以查看帮助文档。</p><p>相关文章：</p><ul><li><a href="https://www.misterma.com/archives/864/">Linux 搭建 Minecraft Java 服务器</a></li><li><a href="https://www.misterma.com/archives/125/">Linux VI 编辑器简单使用教程</a></li></ul>
]]></content:encoded>
<slash:comments>0</slash:comments>
<comments>http://localhost/php/typecho-demo/index.php/archives/10/#comments</comments>
<wfw:commentRss>http://localhost/php/typecho-demo/index.php/feed/archives/10/</wfw:commentRss>
</item>
</channel>
</rss>